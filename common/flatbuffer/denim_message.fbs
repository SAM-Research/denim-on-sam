namespace denim_message_flatbuffer;

enum Flag: byte {
    DEFAULT = 0,
    IS_FINAL = 1,
    NOT_FINAL = 2,
    DUMMY_PADDING = 3,
}


table DenimChunk {
    chunk: [ubyte] (required);
    message_id: uint32;
    sequence_number: uint32;
    flag: Flag;
}

table DenimMessage {
    reg_message: [ubyte] (required);
    deniable_payload: [DenimChunk] (required);
    garbage: [ubyte];
}

root_type DenimChunk;





